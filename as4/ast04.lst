     1                                 %line 1+1 ast04.asm
     2                                 
     3                                 
     4                                 
     5                                 
     6                                 
     7                                 [section .data]
     8                                 
     9                                 
    10                                 
    11                                 NULL equ 0
    12                                 
    13                                 TRUE equ 1
    14                                 FALSE equ 0
    15                                 
    16                                 EXIT_SUCCESS equ 0
    17                                 SYS_exit equ 60
    18                                 
    19                                 
    20                                 
    21 00000000 010000000200000003-    lst dd 1, 2, 3, 4, 5, 6
    22 00000000 000000040000000500-
    23 00000000 000006000000       
    24                                 
    25 00000018 06000000               length dd 6
    26                                 
    27 0000001C 00000000               lstMin dd 0
    28 00000020 00000000               lstMid dd 0
    29 00000024 00000000               lstMax dd 0
    30 00000028 00000000               lstSum dd 0
    31 0000002C 00000000               lstAve dd 0
    32                                 
    33 00000030 00000000               evenCnt dd 0
    34 00000034 00000000               evenSum dd 0
    35 00000038 00000000               evenAve dd 0
    36                                 
    37 0000003C 00000000               tenCnt dd 0
    38 00000040 00000000               tenSum dd 0
    39 00000044 00000000               tenAve dd 0
    40                                 
    41                                 
    42                                 
    43                                 
    44                                 [section .text]
    45                                 [global _start]
    46                                 _start:
    47                                 
    48 00000000 B900000000             mov ecx, 0
    49 00000005 8B0C25[00000000]       mov ecx, dword[length]
    50 0000000C FFC9                   dec ecx
    51 0000000E 48C7C300000000         mov rbx, 0
    52 00000015 BB[00000000]           mov ebx, lst
    53                                 
    54                                 mainLp:
    55                                 
    56                                 
    57 0000001A 41B900000000           mov r9d, 0
    58                                 
    59 00000020 448B0C25[00000000]     mov r9d, dword[lstMin]
    60 00000028 41BA00000000           mov r10d, 0
    61 0000002E 67448B148B             mov r10d, dword[ebx + (ecx * 4)]
    62 00000033 4539D1                 cmp r9d, r10d
    63 00000036 7C0B                   jl skipMin
    64 00000038 67448B0C8B             mov r9d, dword[ebx + (ecx * 4)]
    65 0000003D 44890C25[00000000]     mov dword[lstMin], r9d
    66                                 
    67                                 
    68                                 skipMin:
    69 00000045 448B0C25[00000000]     mov r9d, dword[lstMax]
    70 0000004D 67443B0C8B             cmp r9d, dword[ebx + (ecx * 4)]
    71 00000052 7F0B                   jg skipMax
    72 00000054 67448B0C8B             mov r9d, dword[ebx + (ecx * 4)]
    73 00000059 44890C25[00000000]     mov dword[lstMax], r9d
    74                                 
    75                                 skipMax:
    76                                 
    77 00000061 48C7C000000000         mov rax, 0
    78 00000068 8B0425[00000000]       mov eax, dword[lstSum]
    79 0000006F 6703048B               add eax, dword[ebx + (ecx * 4)]
    80 00000073 890425[00000000]       mov dword[lstSum], eax
    81                                 
    82 0000007A B800000000             mov eax, 0
    83 0000007F BA00000000             mov edx, 0
    84 00000084 678B048B               mov eax, dword[ebx + (ecx * 4)]
    85 00000088 99                     cdq
    86 00000089 49C7C200000000         mov r10, 0
    87 00000090 49C7C202000000         mov r10, 2
    88 00000097 41F7FA                 idiv r10d
    89 0000009A 83FA00                 cmp edx, 0
    90 0000009D 7530                   jne notEven
    91 0000009F B800000000             mov eax, 0
    92 000000A4 8B0425[00000000]       mov eax, dword[evenCnt]
    93 000000AB 83C001                 add eax, 1
    94 000000AE 890425[00000000]       mov dword[evenCnt], eax
    95                                 
    96 000000B5 B800000000             mov eax, 0
    97 000000BA 678B048B               mov eax, dword[ebx + (ecx * 4)]
    98 000000BE 030425[00000000]       add eax, dword[evenSum]
    99 000000C5 890425[00000000]       mov dword[evenSum], eax
   100 000000CC B800000000             mov eax, 0
   101                                 
   102                                 
   103                                 notEven:
   104                                 
   105 000000D1 48C7C000000000         mov rax, 0
   106 000000D8 678B048B               mov eax, dword[ebx + (ecx * 4)]
   107 000000DC 99                     cdq
   108 000000DD 49C7C200000000         mov r10, 0
   109 000000E4 41BA0A000000           mov r10d, 10
   110 000000EA 41F7FA                 idiv r10d
   111 000000ED 83FA00                 cmp edx, 0
   112 000000F0 7526                   jne notTen
   113 000000F2 B800000000             mov eax, 0
   114 000000F7 8B0425[00000000]       mov eax, dword[tenCnt]
   115 000000FE 83C001                 add eax, 1
   116 00000101 890425[00000000]       mov dword[tenCnt], eax
   117                                 
   118 00000108 678B048B               mov eax, dword[ebx + (ecx * 4)]
   119 0000010C 030425[00000000]       add eax, dword[tenSum]
   120 00000113 890425[00000000]       mov dword[tenSum], eax
   121                                 
   122                                 notTen:
   123                                 
   124 0000011A FFC9                   dec ecx
   125 0000011C 83F900                 cmp ecx, 0
   126 0000011F 0F8DEFFEFFFF           jge mainLp
   127                                 
   128 00000125 48C7C000000000         mov rax, 0
   129 0000012C 48C7C200000000         mov rdx, 0
   130 00000133 8B0425[00000000]       mov eax, dword[lstSum]
   131 0000013A 99                     cdq
   132 0000013B F73C25[00000000]       idiv dword[length]
   133 00000142 890425[00000000]       mov dword[lstAve], eax
   134                                 
   135 00000149 48C7C000000000         mov rax, 0
   136 00000150 48C7C200000000         mov rdx, 0
   137 00000157 8B0425[00000000]       mov eax, dword[evenSum]
   138 0000015E 99                     cdq
   139 0000015F F73C25[00000000]       idiv dword[evenCnt]
   140 00000166 890425[00000000]       mov dword[evenAve], eax
   141                                 
   142 0000016D 48C7C000000000         mov rax, 0
   143 00000174 48C7C200000000         mov rdx, 0
   144 0000017B 8B0425[00000000]       mov eax, dword[tenSum]
   145 00000182 99                     cdq
   146 00000183 F73C25[00000000]       idiv dword[tenCnt]
   147 0000018A 890425[00000000]       mov dword[tenAve], eax
   148                                 
   149 00000191 48C7C000000000         mov rax, 0
   150 00000198 48C7C200000000         mov rdx, 0
   151 0000019F 48C7C100000000         mov rcx, 0
   152                                 
   153 000001A6 8B0425[00000000]       mov eax, dword[length]
   154 000001AD B902000000             mov ecx, 2
   155 000001B2 F7F1                   div ecx
   156                                 
   157 000001B4 83FA00                 cmp edx, 0
   158 000001B7 752E                   jne isOdd
   159                                 
   160 000001B9 B900000000             mov ecx, 0
   161 000001BE 678B0C83               mov ecx, dword[ebx + (eax * 4)]
   162 000001C2 FFC0                   inc eax
   163 000001C4 67030C83               add ecx, dword[ebx + (eax * 4)]
   164 000001C8 48C7C000000000         mov rax, 0
   165 000001CF 48C7C200000000         mov rdx, 0
   166                                 
   167 000001D6 89C8                   mov eax, ecx
   168 000001D8 B902000000             mov ecx, 2
   169 000001DD 99                     cdq
   170 000001DE F7F9                   idiv ecx
   171 000001E0 890425[00000000]       mov dword[lstMid], eax
   172                                 
   173                                 
   174 000001E7 EB2C                   jmp finishThis
   175                                 isOdd:
   176                                 
   177 000001E9 48C7C000000000         mov rax, 0
   178 000001F0 8B0425[00000000]       mov eax, dword[length]
   179 000001F7 48C7C100000000         mov rcx, 0
   180 000001FE B902000000             mov ecx, 2
   181 00000203 F7F1                   div ecx
   182 00000205 FFC0                   inc eax
   183 00000207 B900000000             mov ecx, 0
   184 0000020C 678B0C83               mov ecx, dword[ebx + (eax * 4)]
   185 00000210 890C25[00000000]       mov dword[lstMid], ecx
   186                                 
   187                                 finishThis:
   188                                 
   189                                 
   190                                 
   191                                 
   192                                 last:
   193 00000217 B83C000000              mov eax, SYS_exit
   194 0000021C BB00000000              mov ebx, EXIT_SUCCESS
   195 00000221 0F05                    syscall
