     1                                 %line 1+1 ast04.asm
     2                                 
     3                                 
     4                                 
     5                                 
     6                                 
     7                                 [section .data]
     8                                 
     9                                 
    10                                 
    11                                 NULL equ 0
    12                                 
    13                                 TRUE equ 1
    14                                 FALSE equ 0
    15                                 
    16                                 EXIT_SUCCESS equ 0
    17                                 SYS_exit equ 60
    18                                 
    19                                 
    20                                 
    21 00000000 010000000200000003-    lst dd 1, 2, 3, 4, 5, 10
    22 00000000 000000040000000500-
    23 00000000 00000A000000       
    24                                 
    25 00000018 06000000               length dd 6
    26                                 
    27 0000001C 00000000               lstMin dd 0
    28 00000020 00000000               lstMid dd 0
    29 00000024 00000000               lstMax dd 0
    30 00000028 00000000               lstSum dd 0
    31 0000002C 00000000               lstAve dd 0
    32                                 
    33 00000030 00000000               evenCnt dd 0
    34 00000034 00000000               evenSum dd 0
    35 00000038 00000000               evenAve dd 0
    36                                 
    37 0000003C 00000000               tenCnt dd 0
    38 00000040 00000000               tenSum dd 0
    39 00000044 00000000               tenAve dd 0
    40                                 
    41                                 
    42                                 
    43                                 
    44                                 [section .text]
    45                                 [global _start]
    46                                 _start:
    47                                 
    48 00000000 B900000000             mov ecx, 0
    49 00000005 8B0C25[00000000]       mov ecx, dword[length]
    50 0000000C FFC9                   dec ecx
    51 0000000E 48C7C300000000         mov rbx, 0
    52 00000015 BB[00000000]           mov ebx, lst
    53 0000001A 41B900000000           mov r9d, 0
    54 00000020 67448B0C8B             mov r9d, dword[ebx + (ecx * 4)]
    55 00000025 44890C25[00000000]     mov dword[lstMin], r9d
    56 0000002D 41B900000000           mov r9d, 0
    57 00000033 67448B0C8B             mov r9d, dword[ebx + (ecx * 4)]
    58 00000038 44890C25[00000000]     mov dword[lstMax], r9d
    59                                 
    60                                 
    61                                 mainLp:
    62                                 
    63                                 
    64 00000040 41B900000000           mov r9d, 0
    65                                 
    66 00000046 448B0C25[00000000]     mov r9d, dword[lstMin]
    67 0000004E 41BA00000000           mov r10d, 0
    68 00000054 67448B148B             mov r10d, dword[ebx + (ecx * 4)]
    69 00000059 4539D1                 cmp r9d, r10d
    70 0000005C 7C0B                   jl skipMin
    71 0000005E 67448B0C8B             mov r9d, dword[ebx + (ecx * 4)]
    72 00000063 44890C25[00000000]     mov dword[lstMin], r9d
    73                                 
    74                                 
    75                                 skipMin:
    76 0000006B 448B0C25[00000000]     mov r9d, dword[lstMax]
    77 00000073 67443B0C8B             cmp r9d, dword[ebx + (ecx * 4)]
    78 00000078 7F0B                   jg skipMax
    79 0000007A 67448B0C8B             mov r9d, dword[ebx + (ecx * 4)]
    80 0000007F 44890C25[00000000]     mov dword[lstMax], r9d
    81                                 
    82                                 skipMax:
    83                                 
    84 00000087 48C7C000000000         mov rax, 0
    85 0000008E 8B0425[00000000]       mov eax, dword[lstSum]
    86 00000095 6703048B               add eax, dword[ebx + (ecx * 4)]
    87 00000099 890425[00000000]       mov dword[lstSum], eax
    88                                 
    89 000000A0 B800000000             mov eax, 0
    90 000000A5 BA00000000             mov edx, 0
    91 000000AA 678B048B               mov eax, dword[ebx + (ecx * 4)]
    92 000000AE 99                     cdq
    93 000000AF 49C7C200000000         mov r10, 0
    94 000000B6 49C7C202000000         mov r10, 2
    95 000000BD 41F7FA                 idiv r10d
    96 000000C0 83FA00                 cmp edx, 0
    97 000000C3 7530                   jne notEven
    98 000000C5 B800000000             mov eax, 0
    99 000000CA 8B0425[00000000]       mov eax, dword[evenCnt]
   100 000000D1 83C001                 add eax, 1
   101 000000D4 890425[00000000]       mov dword[evenCnt], eax
   102                                 
   103 000000DB B800000000             mov eax, 0
   104 000000E0 678B048B               mov eax, dword[ebx + (ecx * 4)]
   105 000000E4 030425[00000000]       add eax, dword[evenSum]
   106 000000EB 890425[00000000]       mov dword[evenSum], eax
   107 000000F2 B800000000             mov eax, 0
   108                                 
   109                                 
   110                                 notEven:
   111                                 
   112 000000F7 48C7C000000000         mov rax, 0
   113 000000FE 678B048B               mov eax, dword[ebx + (ecx * 4)]
   114 00000102 99                     cdq
   115 00000103 49C7C200000000         mov r10, 0
   116 0000010A 41BA0A000000           mov r10d, 10
   117 00000110 41F7FA                 idiv r10d
   118 00000113 83FA00                 cmp edx, 0
   119 00000116 7526                   jne notTen
   120 00000118 B800000000             mov eax, 0
   121 0000011D 8B0425[00000000]       mov eax, dword[tenCnt]
   122 00000124 83C001                 add eax, 1
   123 00000127 890425[00000000]       mov dword[tenCnt], eax
   124                                 
   125 0000012E 678B048B               mov eax, dword[ebx + (ecx * 4)]
   126 00000132 030425[00000000]       add eax, dword[tenSum]
   127 00000139 890425[00000000]       mov dword[tenSum], eax
   128                                 
   129                                 notTen:
   130                                 
   131 00000140 FFC9                   dec ecx
   132 00000142 83F900                 cmp ecx, 0
   133 00000145 0F8DEFFEFFFF           jge mainLp
   134                                 
   135 0000014B 48C7C000000000         mov rax, 0
   136 00000152 48C7C200000000         mov rdx, 0
   137 00000159 8B0425[00000000]       mov eax, dword[lstSum]
   138 00000160 99                     cdq
   139 00000161 F73C25[00000000]       idiv dword[length]
   140 00000168 890425[00000000]       mov dword[lstAve], eax
   141                                 
   142 0000016F 48C7C000000000         mov rax, 0
   143 00000176 48C7C200000000         mov rdx, 0
   144 0000017D 8B0425[00000000]       mov eax, dword[evenSum]
   145 00000184 99                     cdq
   146 00000185 F73C25[00000000]       idiv dword[evenCnt]
   147 0000018C 890425[00000000]       mov dword[evenAve], eax
   148                                 
   149 00000193 48C7C000000000         mov rax, 0
   150 0000019A 48C7C200000000         mov rdx, 0
   151 000001A1 8B0425[00000000]       mov eax, dword[tenSum]
   152 000001A8 99                     cdq
   153 000001A9 F73C25[00000000]       idiv dword[tenCnt]
   154 000001B0 890425[00000000]       mov dword[tenAve], eax
   155                                 
   156                                 
   157                                 
   158 000001B7 48C7C000000000         mov rax, 0
   159 000001BE 48C7C200000000         mov rdx, 0
   160 000001C5 48C7C100000000         mov rcx, 0
   161                                 
   162 000001CC 8B0425[00000000]       mov eax, dword[length]
   163 000001D3 B902000000             mov ecx, 2
   164 000001D8 F7F1                   div ecx
   165                                 
   166 000001DA 83FA00                 cmp edx, 0
   167 000001DD 7530                   jne isOdd
   168                                 
   169 000001DF B900000000             mov ecx, 0
   170 000001E4 FFC8                   dec eax
   171 000001E6 678B0C83               mov ecx, dword[ebx + (eax * 4)]
   172 000001EA FFC0                   inc eax
   173 000001EC 67030C83               add ecx, dword[ebx + (eax * 4)]
   174 000001F0 48C7C000000000         mov rax, 0
   175 000001F7 48C7C200000000         mov rdx, 0
   176                                 
   177 000001FE 89C8                   mov eax, ecx
   178 00000200 B902000000             mov ecx, 2
   179 00000205 99                     cdq
   180 00000206 F7F9                   idiv ecx
   181 00000208 890425[00000000]       mov dword[lstMid], eax
   182                                 
   183                                 
   184 0000020F EB30                   jmp finishThis
   185                                 isOdd:
   186                                 
   187 00000211 48C7C000000000         mov rax, 0
   188 00000218 8B0425[00000000]       mov eax, dword[length]
   189 0000021F 48C7C100000000         mov rcx, 0
   190 00000226 B902000000             mov ecx, 2
   191 0000022B F7F1                   div ecx
   192 0000022D FFC8                   dec eax
   193 0000022F B900000000             mov ecx, 0
   194 00000234 678B0C85[00000000]     mov ecx, dword[lst + (eax * 4)]
   195 0000023C 890C25[00000000]       mov dword[lstMid], ecx
   196                                 
   197                                 finishThis:
   198                                 
   199                                 
   200                                 
   201                                 
   202                                 last:
   203 00000243 B83C000000              mov eax, SYS_exit
   204 00000248 BB00000000              mov ebx, EXIT_SUCCESS
   205 0000024D 0F05                    syscall
