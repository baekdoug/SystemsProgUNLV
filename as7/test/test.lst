     1                                 %line 1+1 test.asm
     2                                 [section .data]
     3                                 
     4                                 
     5                                 
     6                                 
     7                                 TRUE equ 1
     8                                 FALSE equ 0
     9                                 
    10                                 EXIT_SUCCESS equ 0
    11                                 
    12                                 STDIN equ 0
    13                                 STDOUT equ 1
    14                                 STDERR equ 2
    15                                 
    16                                 SYS_read equ 0
    17                                 SYS_write equ 1
    18                                 SYS_open equ 2
    19                                 SYS_close equ 3
    20                                 SYS_fork equ 57
    21                                 SYS_exit equ 60
    22                                 SYS_creat equ 85
    23                                 SYS_time equ 201
    24                                 
    25                                 LF equ 10
    26                                 NULL equ 0
    27                                 ESC equ 27
    28                                 
    29                                 
    30                                 
    31                                 
    32 00000000 010000000300000002-    lst dd 1, 3, 2, 5, 4
    33 00000000 000000050000000400-
    34 00000000 0000               
    35                                 
    36 00000014 59040000D004000062-    lst2 dd 1113, 1232, 2146, 1376, 5120, 2356, 164, 4565, 155, 3157
    37 00000014 080000600500000014-
    38 00000014 000034090000A40000-
    39 00000014 00D51100009B000000-
    40 00000014 550C0000           
    41 0000003C F702000046010000AB-     dd 759, 326, 171, 147, 5628, 7527, 7569, 177, 6785, 3514
    42 0000003C 00000093000000FC15-
    43 0000003C 0000671D0000911D00-
    44 0000003C 00B1000000811A0000-
    45 0000003C BA0D0000           
    46 00000064 E9030000800000006D-     dd 1001, 128, 1133, 1105, 327, 101, 115, 1108, 1, 115
    47 00000064 040000510400004701-
    48 00000064 000065000000730000-
    49 00000064 005404000001000000-
    50 00000064 73000000           
    51 0000008C CB040000CA04000009-     dd 1227, 1226, 5129, 117, 107, 105, 109, 999, 150, 414
    52 0000008C 140000750000006B00-
    53 0000008C 0000690000006D0000-
    54 0000008C 00E703000096000000-
    55 0000008C 9E010000           
    56 000000B4 6B000000D7170000F5-     dd 107, 6103, 245, 6440, 1465, 2311, 254, 4528, 1913, 6722
    57 000000B4 00000028190000B905-
    58 000000B4 000007090000FE0000-
    59 000000B4 00B011000079070000-
    60 000000B4 421A0000           
    61 000000DC 7D0400007E00000027-     dd 1149, 126, 5671, 4647, 628, 327, 2390, 177, 8275, 614
    62 000000DC 160000271200007402-
    63 000000DC 000047010000560900-
    64 000000DC 00B100000053200000-
    65 000000DC 66020000           
    66 00000104 310C00009F01000067-     dd 3121, 415, 615, 122, 7217, 1, 410, 1129, 812, 2134
    67 00000104 0200007A000000311C-
    68 00000104 0000010000009A0100-
    69 00000104 00690400002C030000-
    70 00000104 56080000           
    71 0000012C DD000000BA08000097-     dd 221, 2234, 151, 432, 114, 1629, 114, 522, 2413, 131
    72 0000012C 000000B00100007200-
    73 0000012C 00005D060000720000-
    74 0000012C 000A0200006D090000-
    75 0000012C 83000000           
    76 00000154 071600007E0000008A-     dd 5639, 126, 1162, 441, 127, 877, 199, 679, 1101, 3414
    77 00000154 040000B90100007F00-
    78 00000154 00006D030000C70000-
    79 00000154 00A70200004D040000-
    80 00000154 560D0000           
    81 0000017C 35080000850000006D-     dd 2101, 133, 1133, 2450, 532, 8619, 115, 1618, 9999, 115
    82 0000017C 040000920900001402-
    83 0000017C 0000AB210000730000-
    84 0000017C 00520600000F270000-
    85 0000017C 73000000           
    86 000001A4 DB0000002C0C000064-     dd 219, 3116, 612, 217, 127, 6787, 4569, 679, 675, 4314
    87 000001A4 020000D90000007F00-
    88 000001A4 0000831A0000D91100-
    89 000001A4 00A7020000A3020000-
    90 000001A4 DA100000           
    91 000001CC 5004000039030000A0-     dd 1104, 825, 1184, 2143, 1176, 134, 4626, 100, 4566, 346
    92 000001CC 0400005F0800009804-
    93 000001CC 000086000000121200-
    94 000001CC 0064000000D6110000-
    95 000001CC 5A010000           
    96 000001F4 BE040000821A000069-     dd 1214, 6786, 617, 183, 512, 7881, 8320, 3467, 559, 1190
    97 000001F4 020000B70000000002-
    98 000001F4 0000C91E0000802000-
    99 000001F4 008B0D00002F020000-
   100 000001F4 A6040000           
   101 0000021C 670000007000000001-     dd 103, 112, 1, 2186, 191, 86, 134, 1125, 5675, 476
   102 0000021C 0000008A080000BF00-
   103 0000021C 000056000000860000-
   104 0000021C 00650400002B160000-
   105 0000021C DC010000           
   106 00000244 64000000010000007A-     dd 100, 1, 1146, 100, 101, 1, 5616, 5662, 6328, 2342
   107 00000244 040000640000006500-
   108 00000244 000001000000F01500-
   109 00000244 001E160000B8180000-
   110 00000244 26090000           
   111 0000026C 590800004108000087-     dd 2137, 2113, 647, 114, 115, 6571, 7624, 128, 113, 3112
   112 0000026C 020000720000007300-
   113 0000026C 0000AB190000C81D00-
   114 0000026C 008000000071000000-
   115 0000026C 280C0000           
   116 00000294 D40200003C010000C1-     dd 724, 316, 1217, 2183, 4352, 121, 320, 4540, 5679, 190
   117 00000294 040000870800000011-
   118 00000294 000079000000400100-
   119 00000294 00BC1100002F160000-
   120 00000294 BE000000           
   121 000002BC A52300007400000062-     dd 9125, 116, 1122, 117, 127, 5677, 101, 3727, 6512, 3184
   122 000002BC 040000750000007F00-
   123 000002BC 00002D160000650000-
   124 000002BC 008F0E000070190000-
   125 000002BC 700C0000           
   126 000002E4 69070000E6180000BE-     dd 1897, 6374, 190, 1667, 1224, 7123, 116, 126, 6784, 2329
   127 000002E4 00000083060000C804-
   128 000002E4 0000D31B0000740000-
   129 000002E4 007E000000801A0000-
   130 000002E4 19090000           
   131 0000030C 680000007C00000058-     dd 104, 124, 1112, 187, 176, 7534, 2126, 6112, 156, 103
   132 0000030C 040000BB000000B000-
   133 0000030C 00006E1D00004E0800-
   134 0000030C 00E01700009C000000-
   135 0000030C 67000000           
   136 00000334 81040000AC0000007A-     dd 1153, 172, 1146, 2176, 170, 156, 164, 165, 155, 5156
   137 00000334 04000080080000AA00-
   138 00000334 00009C000000A40000-
   139 00000334 00A50000009B000000-
   140 00000334 24140000           
   141 0000035C 7E030000B518000064-     dd 894, 6325, 100, 143, 276, 5634, 7526, 413, 7686, 563
   142 0000035C 0000008F0000001401-
   143 0000035C 000002160000661D00-
   144 0000035C 009D010000061E0000-
   145 0000035C 33020000           
   146 00000384 FF0100007F0100006D-     dd 511, 383, 1133, 2150, 825, 5721, 615, 4568, 7813, 1231
   147 00000384 040000660800003903-
   148 00000384 000059160000670200-
   149 00000384 00D8110000851E0000-
   150 00000384 CF040000           
   151 000003AC E703000092000000A2-     dd 999, 146, 162, 147, 157, 167, 169, 177, 175, 144
   152 000003AC 000000930000009D00-
   153 000003AC 0000A7000000A90000-
   154 000003AC 00B1000000AF000000-
   155 000003AC 90000000           
   156 000003D4 97150000400500006A-     dd 5527, 1344, 1130, 2172, 224, 7525, 100, 1, 100, 1134
   157 000003D4 0400007C080000E000-
   158 000003D4 0000651D0000640000-
   159 000003D4 000100000064000000-
   160 000003D4 6E040000           
   161 000003FC B50000009B00000079-     dd 181, 155, 1145, 132, 167, 185, 150, 149, 182, 434
   162 000003FC 04000084000000A700-
   163 000003FC 0000B9000000960000-
   164 000003FC 0095000000B6000000-
   165 000003FC B2010000           
   166 00000424 4502000071020000AB-     dd 581, 625, 6315, 1, 617, 855, 6737, 129, 4512, 1
   167 00000424 180000010000006902-
   168 00000424 000057030000511A00-
   169 00000424 0081000000A0110000-
   170 00000424 01000000           
   171 0000044C B1000000A4000000A0-     dd 177, 164, 160, 1172, 184, 175, 166, 6762, 158, 4572
   172 0000044C 00000094040000B800-
   173 0000044C 0000AF000000A60000-
   174 0000044C 006A1A00009E000000-
   175 0000044C DC110000           
   176 00000474 A11900001B0100006D-     dd 6561, 283, 1133, 1150, 135, 5631, 8185, 178, 1197, 185
   177 00000474 0400007E0400008700-
   178 00000474 0000FF150000F91F00-
   179 00000474 00B2000000AD040000-
   180 00000474 B9000000           
   181 0000049C 89020000DE1800008A-     dd 649, 6366, 1162, 167, 167, 177, 169, 1177, 175, 1169
   182 0000049C 040000A7000000A700-
   183 0000049C 0000B1000000A90000-
   184 0000049C 0099040000AF000000-
   185 0000049C 91040000           
   186                                 
   187 000004C4 05000000               len dd 5
   188                                 
   189 000004C8 00000000               min dd 0
   190 000004CC 00000000               med dd 0
   191 000004D0 00000000               max dd 0
   192 000004D4 00000000               sum dd 0
   193 000004D8 00000000               avg dd 0
   194                                 
   195                                 
   196                                 
   197                                 
   198 000004DC 00000000               h dd 0
   199 000004E0 00000000               i dd 0
   200 000004E4 00000000               j dd 0
   201 000004E8 00000000               tmp dd 0
   202 000004EC 06000000               dSix dd 6
   203 000004F0 02000000               dTwo dd 2
   204 000004F4 03000000               dThree dd 3
   205                                 
   206                                 
   207                                 
   208                                 
   209                                 
   210                                 MAX_STR_SIZE equ 12
   211                                 
   212 000004F8 0A00                   newLine db LF, NULL
   213                                 
   214 000004FA 0A2D2D2D2D2D2D2D2D-    hdr db LF, "---------------------------"
   215 000004FA 2D2D2D2D2D2D2D2D2D-
   216 000004FA 2D2D2D2D2D2D2D2D2D-
   217 000004FA 2D                 
   218 00000516 2D2D2D2D2D2D2D2D2D-     db "---------------------------"
   219 00000516 2D2D2D2D2D2D2D2D2D-
   220 00000516 2D2D2D2D2D2D2D2D2D 
   221 00000531 0A1B5B316D43532032-     db LF, ESC, "[1m", "CS 218 - Assignment #7", ESC, "[0m"
   222 00000531 3138202D2041737369-
   223 00000531 676E6D656E74202337-
   224 00000531 1B5B306D           
   225 00000550 0A5368656C6C20536F-     db LF, "Shell Sort", LF, LF, NULL
   226 00000550 72740A0A00         
   227                                 
   228 0000055E 4D696E696D756D3A20-    hdrMin db "Minimum:  ", NULL
   229 0000055E 2000               
   230 00000569 4D6178696D756D3A20-    hdrMax db "Maximum:  ", NULL
   231 00000569 2000               
   232 00000574 4D656469616E3A2020-    hdrMed db "Median:   ", NULL
   233 00000574 2000               
   234 0000057F 53756D3A2020202020-    hdrSum db "Sum:      ", NULL
   235 0000057F 2000               
   236 0000058A 417665726167653A20-    hdrAve db "Average:  ", NULL
   237 0000058A 2000               
   238                                 
   239                                 
   240                                 
   241                                 [section .bss]
   242                                 
   243 00000000 <gap>                  tmpString resb MAX_STR_SIZE
   244                                 
   245                                 
   246                                 
   247                                 [section .text]
   248                                 [global _start]
   249                                 _start:
   250                                 
   251                                 
   252                                 
   253                                 
   254                                 
   255 00000000 48C7C000000000         mov rax, 0
   256 00000007 B801000000             mov eax, 1
   257 0000000C 48C7C300000000         mov rbx, 0
   258 00000013 49C7C100000000         mov r9, 0
   259                                 
   260 0000001A 49C7C200000000         mov r10, 0
   261                                 
   262                                 
   263                                 
   264                                 
   265                                 whileLp:
   266 00000021 4189C2                 mov r10d, eax
   267 00000024 F72425[00000000]       mul dword[dThree]
   268 0000002B 83C001                 add eax, 1
   269 0000002E 3B0425[00000000]       cmp eax, dword[len]
   270 00000035 72E8                   jb whileLp
   271 00000037 4489D0                 mov eax, r10d
   272                                 
   273                                 
   274                                 
   275                                 whileLp2:
   276                                 
   277                                 
   278 0000003A 89C3                    mov ebx, eax
   279 0000003C FFCB                    dec ebx
   280                                  forLp:
   281                                 
   282                                 
   283 0000003E 49C7C200000000          mov r10, 0
   284 00000045 448B149D[00000000]      mov r10d, dword[lst + (rbx*4)]
   285 0000004D 44891425[00000000]      mov dword[tmp], r10d
   286                                 
   287 00000055 49C7C300000000          mov r11, 0
   288 0000005C 4189DB                  mov r11d, ebx
   289                                 
   290 0000005F 4189DB                  mov r11d, ebx
   291                                  forInner:
   292                                 
   293                                 
   294                                 
   295 00000062 48C7C100000000          mov rcx, 0
   296 00000069 41BD00000000            mov r13d, 0
   297 0000006F 4589DD                  mov r13d, r11d
   298 00000072 4129C5                  sub r13d, eax
   299 00000075 4139C3                  cmp r11d, eax
   300 00000078 7235                    jb isFirstPass
   301 0000007A 67428B0CAD[00000000]      mov ecx, dword[lst + (r13d * 4)]
   302 00000083 6742890C9D[00000000]      mov dword[lst + (r11d * 4)], ecx
   303                                 
   304                                 
   305                                 
   306 0000008C 4129C3                  sub r11d, eax
   307 0000008F 4139C3                  cmp r11d, eax
   308 00000092 7300                    jae firstPass
   309 00000094 EBCA                    jmp forInner
   310                                  firstPass:
   311 00000096 49C7C400000000          mov r12, 0
   312 0000009D 448B2425[00000000]      mov r12d, dword[tmp]
   313 000000A5 463924AD[00000000]      cmp dword[tmp + (r13 * 4)], r12d
   314 000000AD 7700                    ja secondPass
   315 000000AF EBAF                    jmp forInner
   316                                  secondPass:
   317                                  isFirstPass:
   318                                 
   319 000000B1 48C7C100000000          mov rcx, 0
   320 000000B8 8B0C25[00000000]        mov ecx, dword[tmp]
   321 000000BF 6742890C9D[00000000]      mov dword[lst + (r11d * 4)], ecx
   322                                 
   323 000000C8 FFC3                    inc ebx
   324 000000CA 3B1C25[00000000]        cmp ebx, dword[len]
   325 000000D1 0F8261FFFFFF            jb forLp
   326                                 
   327                                 
   328                                 
   329 000000D7 F73425[00000000]       div dword[dThree]
   330                                 
   331 000000DE 83F800                 cmp eax, 0
   332 000000E1 0F874DFFFFFF           ja whileLp2
   333                                 
   334                                 last:
   335 000000E7 48C7C03C000000          mov rax, SYS_exit
   336 000000EE 48C7C300000000          mov rbx, EXIT_SUCCESS
   337 000000F5 0F05                    syscall
